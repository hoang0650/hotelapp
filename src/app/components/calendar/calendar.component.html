<div class="calendar-container">
  <header class="calendar-header">
    <button (click)="prevMonth()">&#9664;</button>
    <span>{{ currentMonth }} {{ currentYear }}</span>
    <button (click)="nextMonth()">&#9654;</button>
  </header>
  <div class="calendar-grid">
    <div class="day-header" *ngFor="let day of daysOfWeek">{{ day }}</div>
    <div
      class="calendar-day"
      *ngFor="let date of datesInMonth"
      [class.today]="isToday(date)"
      [class.selected]="isSelected(date)"
      (click)="selectDate(date)"
    >
      <div class="date">{{ date.getDate() }}</div>
      <div class="booking-info" *ngFor="let booking of getBookingsForDate(date)">
        <div class="booking-timeline">
          {{ booking.startTime }} - {{ booking.endTime }}
        </div>
        <div class="booking-user">
          {{ booking.userName }}
        </div>
      </div>
    </div>
  </div>
</div>
<br>
<div class="booking-info" *ngIf="selectedDate">
  <nz-timeline>
    <nz-timeline-item *ngFor="let booking of bookings" [nzColor]="'gold'">
      <nz-card>
        <div class="card-header">
          <nz-card-meta
            [nzTitle]="booking.userName"
            [nzDescription]="selectedDate | date: 'fullDate'">
          </nz-card-meta>
          <div class="card-status">
            <button nz-button nzShape="round" nzType="default" (click)="showModal()">Sửa</button>
            <span [ngClass]="{'status-booked': booking.status === 'Booked', 'status-cancelled': booking.status === 'Cancelled'}">{{ booking.status }}</span>
          </div>
        </div>
        <nz-collapse>
          <nz-collapse-panel nzHeader="Chi tiết" *ngIf="booking.startTime || booking.endTime">
            <p><strong>Từ ngày:</strong> {{ booking.startTime }}</p>
            <p><strong>Đến ngày:</strong> {{ booking.endTime }}</p>
          </nz-collapse-panel>
        </nz-collapse>
      </nz-card>
    </nz-timeline-item>
  </nz-timeline>
</div>

