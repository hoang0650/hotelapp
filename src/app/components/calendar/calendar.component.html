<!-- Giao diện đặt lịch -->
<nz-form [formGroup]="form">
  <nz-form-item>
    <nz-form-label [nzSpan]="6" nzRequired>Chọn ngày</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <nz-date-picker formControlName="date" [nzShowTime]="true" nzFormat="yyyy-MM-dd HH:mm:ss"></nz-date-picker>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="6" nzRequired>Tên khách hàng</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input nz-input formControlName="customerName" placeholder="Nhập tên khách hàng"/>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="6">Số tiền chuyển</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input nz-input formControlName="amount" placeholder="Nhập số tiền"/>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label [nzSpan]="6">Ghi chú</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <textarea nz-input formControlName="note" rows="3" placeholder="Ghi chú"></textarea>
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-control [nzSpan]="14" [nzOffset]="6">
      <button nz-button nzType="primary" (click)="onSubmit()">Đặt lịch</button>
    </nz-form-control>
  </nz-form-item>
</nz-form>

<!-- Giao diện lịch và timeline -->
<div *ngIf="showCalendar">
  <nz-date-picker [(ngModel)]="currentDate" [nzShowTime]="true" (ngModelChange)="onDateChange($event)"></nz-date-picker>
</div>

<div *ngIf="events.length > 0">
  <nz-timeline>
    <nz-timeline-item *ngFor="let event of events" [nzColor]="'gold'">
      <nz-card>
        <div class="card-header">
          <nz-card-meta
            [nzTitle]="event.customerName"
            [nzDescription]="event.date">
          </nz-card-meta>
          <div class="card-status">
            <span [ngClass]="{'status-booked': event.status === 'Booked', 'status-cancelled': event.status === 'Cancelled'}">{{ event.status }}</span>
          </div>
        </div>
        <nz-collapse>
          <nz-collapse-panel nzHeader="Chi tiết" *ngIf="event.amount || event.note">
            <p><strong>Số tiền:</strong> {{ event.amount }}</p>
            <p><strong>Ghi chú:</strong> {{ event.note }}</p>
          </nz-collapse-panel>
        </nz-collapse>
      </nz-card>
    </nz-timeline-item>
  </nz-timeline>
</div>
